#!/bin/sh

NEW_WALL="$@"

[ -z $NEW_WALL ] && exit 1

cp "$NEW_WALL" $HOME/.config/wall.jpg

# delete cache because wallpaper file name is the same
wal -c

wal -n -t -i $HOME/.config/wall.jpg

xwallpaper --zoom "$HOME/.config/wall.jpg"

# dwm Read colors from xrdb
xdotool key super+q

$HOME/.local/src/oomox/plugins/theme_oomox/change_color.sh -o walmox -t $HOME/.local/share/themes -d true -m all $HOME/.cache/wal/colors-oomox
